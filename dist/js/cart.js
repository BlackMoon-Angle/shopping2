"use strict";window.onload=function(){$("#wx_Two_nav").mouseenter(function(){$(this).children(".wx_div").css("display","block"),$(this).children(".marrl").css("background","url(//js01.daoju.qq.com/zb/lolriotmall/pc/images/ico-menu.png) no-repeat -24px 0")}),$("#wx_Two_nav").mouseleave(function(){$(this).children(".wx_div").css("display","none"),$(this).children(".marrl").css("background","url(//js01.daoju.qq.com/zb/lolriotmall/pc/images/ico-menu.png) no-repeat -32px 0")}),function(){var n=sessionStorage.getItem("userInfo"),i=n?JSON.parse(n):{};i.user&&($(".login_not_online").css("display","none"),$(".login_online").css("display","block").children(".login_online_div").children(".login_online_div_username").html(i.user));$(".out_btn").click(function(){sessionStorage.removeItem("userInfo"),location.reload()})}(),function i(){var t=JSON.parse(localStorage.getItem("cartList"));t?(l(),n()):(alert("购物车为空！快去购物吧!"),location.href="../pages/list.html");function l(){var n=t.every(function(n){return!0===n.isSelect}),i="",l="";i+='\n            \x3c!-- 商品信息头部 --\x3e\n            <ul class="buy_box_head">\n                <li class="buy_box_head_li">\n                    <label><input class="all_btn" type="checkbox" '.concat(n?"checked":"",' ><span>全选</span></label>\n                </li>\n                <li class="buy_box_head_li2">商品数量</li>\n                <li class="buy_box_head_li3">单价(元)</li>\n                <li class="buy_box_head_li4">数量</li>\n                <li class="buy_box_head_li5">小计</li>\n                <li class="buy_box_head_li6">操作</li>\n            </ul>\n            '),t.forEach(function(n){i+='\n                \x3c!-- 购买商品信息 --\x3e\n                <ul class="info_ul">\n                    \x3c!-- 选项 --\x3e\n                    <li class="info_ul_li">\n                        <label><input class="single_btn" id="'.concat(n.list_id,'" type="checkbox" ').concat(n.isSelect?"checked":"",'></label>\n                    </li>\n                    \x3c!-- 信息 --\x3e\n                    <li class="info_ul_li2">\n                        <div class="info_ul_li_div">\n                            <a class="info_ul_li_div_a" href="javascript:;">\n                                <img\n                                    src="').concat(n.big_img,'">\n                            </a>\n                            <div class="info_ul_li_div_div">\n                                <a href="javascript:;">\n                                    <span>').concat(n.head_title4,'</span>\n                                </a>\n                                <div class="info_ul_li_div_div_div">\n                                    <span style="display: block;">\n                                        <span>型号</span>：<span>常规</span></span>\n                                    <span style="display: block;">\n                                        <span>规格</span>：<span>').concat(n.specifications[0].size,'</span></span>\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                    \x3c!-- 单价 --\x3e\n                    <li class="info_ul_li3">\n                        <span>¥\n                            <span>').concat(n.pri,' 元</span>\n                        </span>\n                    </li>\n                    \x3c!-- 数量操作 --\x3e\n                    <li class="info_ul_li4">\n                        <div>\n                            <a class="reduce_a" id=').concat(n.list_id,'>\n                                <img src="//js01.daoju.qq.com/zb/lolriotmall/ht/buy_jian.jpg">\n                            </a>\n                            <input type="text" value="').concat(n.number,'" disabled="value">\n                            <a class="add_a" id=').concat(n.list_id,'>\n                                <img src="//js01.daoju.qq.com/zb/lolriotmall/ht/buy_jia.jpg">\n                            </a>\n                        </div>\n                    </li>\n                    \x3c!-- 小计 --\x3e\n                    <li class="info_ul_li5">\n                        <span>¥</span>\n                        <span>\n                        ').concat((1*n.All_pri).toFixed(2),'\n                        </span>\n                    </li>\n                    \x3c!-- 操作 --\x3e\n                    <li class="info_ul_li6">\n                        <a class="delete_a" id="').concat(n.list_id,'">删除</a>\n                    </li>\n                </ul>\n                ')}),i+='\n                \x3c!-- 底部全选与清空 --\x3e\n                <ul class="info_bottom">\n                    <li class="info_bottom_li">\n                        <label><input class="all_btn" type="checkbox" '.concat(n?"checked":"",' ><span>全选</span></label>\n                    </li>\n                    <li style="width: 348px;">&nbsp;</li>\n                    <li style="width: 80px;">&nbsp;</li>\n                    <li style="width: 152px;">&nbsp;</li>\n                    <li style="width: 80px;">&nbsp;</li>\n                    <li class="info_bottom_li2"><a class="empty_a" href="javascript:;">清空购物车</a></li>\n                </ul>\n                '),$(".buy_box").html(i);var a=t.filter(function(n){return n.isSelect}),s=0,c=0;a.forEach(function(n){s+=n.number,c+=1*n.All_pri}),l+='\n            <div class="right_buy_box">\n                <h3>我的购物车</h3>\n                \x3c!-- 结算 --\x3e\n                <div class="right_buy_box_pay">\n                    <div class="pay_div">\n                        商品数量：<span>'.concat(s,'</span><br>\n                        商品金额：<span style="color: #ed3029;">¥<font>').concat((1*c).toFixed(2),'</font></span>\n                        <a href="javascript:;">去结算</a>\n                    </div>\n                    <div class="pay_div2">\n                        <div class="pay_div2_div">\n                            <div class="pay_div2_div_div">承诺</div>\n                            <div class="pay_div2_div_div2">\n                                7天无理由退换货<br>100%官方正品<br>全场每单满199元包邮\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            '),$(".right_buy").html(l)}function n(){$(".buy_box").on("change",".all_btn",function(){var i=this;t.forEach(function(n){n.isSelect=i.checked}),l(),localStorage.setItem("cartList",JSON.stringify(t))}),$(".buy_box").on("change",".single_btn",function(){var i=$(this).attr("id");t.forEach(function(n){n.list_id==i&&(n.isSelect=!n.isSelect)}),l(),localStorage.setItem("cartList",JSON.stringify(t))}),$(".buy_box").on("click",".reduce_a",function(){var i=$(this).attr("id");t.forEach(function(n){n.list_id==i&&(1<n.number&&n.number--,n.All_pri=n.pri*n.number)}),l(),localStorage.setItem("cartList",JSON.stringify(t))}),$(".buy_box").on("click",".add_a",function(){var i=$(this).attr("id");t.forEach(function(n){n.list_id==i&&(n.number++,n.All_pri=n.pri*n.number)}),l(),localStorage.setItem("cartList",JSON.stringify(t))}),$(".buy_box").on("click",".delete_a",function(){var i=$(this).attr("id");t.forEach(function(n){n.list_id==i&&t.splice(n.index,1)}),l(),localStorage.setItem("cartList",JSON.stringify(t))}),$(".buy_box").on("click",".empty_a",function(){var n=JSON.parse(localStorage.getItem("cartList"));n.splice(0),l(),localStorage.setItem("cartList",JSON.stringify(n)),i()})}}()};