"use strict";window.onload=function(){$(".head_box_div2").mouseenter(function(){$(this).children(".head_box_div2_div").children(".down").css("display","none"),$(this).children(".head_box_div2_div").children(".up").css("display","inline-block"),$(this).children("ul").css("display","block")}),$(".head_box_div2").mouseleave(function(){$(this).children(".head_box_div2_div").children(".down").css("display","inline-block"),$(this).children(".head_box_div2_div").children(".up").css("display","none"),$(this).children("ul").css("display","none")}),$(".empty_btn").click(function(){$(this).parent().siblings(".form_box_username").children("div").children("input").val(""),$(this).parent().siblings(".form_box_password").children("div").children("input").val(""),$(this).parent().siblings(".form_box_phone").children("div").children("input").val(""),$(this).parent().siblings(".form_box_email").children("div").children("input").val("")}),$(".register_username").focus(function(){$(this).parent().parent().siblings(".username_warning").html("请输入账号").css({display:"block",color:"green"})}),$(".register_username").blur(function(){""==$(this).val()?$(this).parent().parent().siblings(".username_warning").html("账号不能为空！").css({display:"block",color:"red"}):$(this).parent().parent().siblings(".username_warning").css({display:"none"})}),$(".register_password").focus(function(){$(this).parent().siblings(".eyes_password").children(".Close_eyes").css("display","block"),$(".eyes_password").mouseenter(function(){$(this).children(".Close_eyes").css("display","none"),$(this).children(".Open_eyes").css("display","block"),$(this).siblings(".password_div").children(".register_password").attr("type","text")}),$(".eyes_password").mouseleave(function(){$(this).children(".Close_eyes").css("display","block"),$(this).children(".Open_eyes").css("display","none"),$(this).siblings(".password_div").children(".register_password").attr("type","password")}),$(this).parent().parent().siblings(".password_warning").html("不能有空格；长度为8-16字符；至少包含数字、字母，符号中至少2种").css({display:"block",color:"green"})}),$(".register_password").blur(function(){if(""==$(this).val())$(this).parent().siblings(".eyes_password").children(".Close_eyes").css("display","none"),$(this).parent().parent().siblings(".password_warning").html("密码不能为空！").css({display:"block",color:"red"});else{var s=$(this).val();/(?!.*\s)(?!^[\u4e00-\u9fa5]+$)(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^.{8,16}$/.test(s)?$(this).parent().parent().siblings(".password_warning").html("密码格式正确").css({display:"block",color:"green"}):$(this).parent().parent().siblings(".password_warning").html("密码格式不正确").css({display:"block",color:"red"})}}),$(".register_phone").focus(function(){$(this).parent().parent().siblings(".phone_warning").html("请输入手机号！").css({display:"block",color:"green"})}),$(".register_phone").blur(function(){if(""==$(this).val())$(this).parent().parent().siblings(".phone_warning").html("手机号不能为空！").css({display:"block",color:"red"});else{var s=$(this).val();/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(s)?$(this).parent().parent().siblings(".phone_warning").html("手机格式正确").css({display:"block",color:"green"}):$(this).parent().parent().siblings(".phone_warning").html("手机格式不正确").css({display:"block",color:"red"})}}),$(".register_email").focus(function(){$(this).parent().parent().siblings(".email_warning").html("请输入邮箱！").css({display:"block",color:"green"})}),$(".register_email").blur(function(){if(""==$(this).val())$(this).parent().parent().siblings(".email_warning").html("邮箱不能为空！").css({display:"block",color:"red"});else{var s=$(this).val();/^[A-Za-z0-9]+([_\.][A-Za-z0-9]+)*@([A-Za-z0-9\-]+\.)+[A-Za-z]{2,6}$/.test(s)?$(this).parent().parent().siblings(".email_warning").html("邮箱格式正确").css({display:"block",color:"green"}):$(this).parent().parent().siblings(".email_warning").html("邮箱格式不正确").css({display:"block",color:"red"})}}),$(".register_btn").click(function(){var s=$(".register_password").val(),e=$(".register_phone").val(),i=$(".register_email").val();0==/(?!.*\s)(?!^[\u4e00-\u9fa5]+$)(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^.{8,16}$/.test(s)?alert("注册输入的内容存在格式不符！"):0==/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(e)?alert("注册输入的内容存在格式不符！"):0==/^[A-Za-z0-9]+([_\.][A-Za-z0-9]+)*@([A-Za-z0-9\-]+\.)+[A-Za-z]{2,6}$/.test(i)?alert("注册输入的内容存在格式不符！"):$.ajax({url:"http://api.icodeilife.cn:81/user",data:{type:"register",user:$(".register_username").val(),pass:$(".register_password").val(),tel:$(".register_phone").val(),email:$(".register_email").val()},success:function(s){var e=JSON.parse(s);1==e.code?(alert("注册成功！"),location.href="../pages/login.html"):(alert("注册失败！您注册的账号已存在!"),location.reload())}})})};